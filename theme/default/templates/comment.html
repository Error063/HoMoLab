<!DOCTYPE html>
<html lang="zh">
<head>
    <link rel="stylesheet" type="text/css" href="/resources?css=hoyolab">
    <link rel="stylesheet" href="{{ url_for('static',filename='css/styles.css') }}">
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <meta charset="UTF-8">
</head>
<body>
<div class="replies">
{% for i in range(thread.comments | length) %}
    <div class="reply">
        <div class="user commentUser">
            <img class="avatar" src="{{ thread.comments[i]['avatar'] }}"/>
            <div class="userinfo">
                <div class="nickname">{{ thread.comments[i]['username'] }}</div>
                <div class="describe">{{ thread.comments[i]['describe'] }}</div>
            </div>
        </div>
        <div class="comment" id="comment-{{ i }}"></div>
    <script>let quill_{{ i }} = new Quill('#comment-{{ i }}', {theme: 'bubble'});quill_{{ i }}.enable(false);quill_{{ i }}.setContents({{ thread.comments[i]['content'] | safe }})</script>
    </div>
{% endfor %}
    <div class="pageControl">
{% if thread.isLastFlag and thread.page == 1 %}
    <span>没有更多了</span>
{% else %}
    <span>当前为第 {{ thread.page }} 页</span>
        {% if thread.page > 1 %}
            <a href="/comments?id={{ thread.post_id }}&gid={{ thread.gid }}&page={{ thread.page - 1 }}">
                <button class="pageButton">上一页</button>
            </a>
        {% endif %}
        {% if not thread.isLastFlag %}
            <a href="/comments?id={{ thread.post_id }}&gid={{ thread.gid }}&page={{ thread.page + 1 }}">
                <button class="pageButton">下一页</button>
            </a>
        {% endif %}
{% endif %}
    </div>
</div>
</body>